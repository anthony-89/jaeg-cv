
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Antonio Esquivel Gaytan — Executive CV</title>
    <meta name="description" content="Physician-scientist & AI-in-healthcare practitioner. Heart failure & cardiorenal research. Executive Portfolio." />
    <meta name="theme-color" content="#0f172a">

    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

<style>
    /* === MIDNIGHT EXECUTIVE DESIGN SYSTEM === */

    :root {
        /* Colors: Deep Navy & Platinum */
        --bg-color: #0f172a;      /* Slate 900 */
        --bg-gradient: radial-gradient(circle at 50% 0%, #1e293b 0%, #0f172a 100%);
        
        --text-main: #f8fafc;     /* Slate 50 */
        --text-muted: #cbd5e1;    /* Slate 300 */
        
        /* Glass Settings - High Transparency */
        --glass-bg: rgba(255, 255, 255, 0.03); 
        --glass-border: rgba(255, 255, 255, 0.1); 
        --glass-blur: blur(20px); 
        --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
        
        /* Accent: Electric Teal/Cyan */
        --accent-color: #2dd4bf; /* Teal 400 */
        --accent-glow: rgba(45, 212, 191, 0.3);
        
        /* Layout */
        --section-spacing: 6rem;
        --nav-height: 80px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    html {
        scroll-behavior: smooth;
        scrollbar-color: #334155 #0f172a;
        scrollbar-width: thin;
    }

    body {
        background-color: var(--bg-color);
        background-image: var(--bg-gradient);
        background-attachment: fixed; 
        color: var(--text-main);
        font-family: 'Inter', sans-serif;
        line-height: 1.7;
        overflow-x: hidden;
        min-height: 100vh;
        -webkit-font-smoothing: antialiased;
        padding-top: 2rem;
    }

    /* --- BACKGROUND AMBIENT LIGHT --- */
    .ambient-light {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 80vh;
        background: radial-gradient(ellipse at top, rgba(45, 212, 191, 0.1), transparent 60%);
        z-index: -1;
        pointer-events: none;
    }

    /* --- TYPOGRAPHY --- */
    h1, h2, h3 {
        font-weight: 700;
        letter-spacing: -0.02em;
        color: #fff;
    }

    h1 {
        font-size: clamp(2.5rem, 5vw, 4.5rem);
        margin-bottom: 1rem;
        line-height: 1.1;
        background: linear-gradient(to right, #fff, #94a3b8);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    h2 {
        font-size: 1.8rem;
        margin-bottom: 2.5rem;
        display: flex;
        align-items: center;
        gap: 1rem;
        color: #f8fafc;
        /* Fix for sticky nav covering titles */
        scroll-margin-top: 120px;
    }
    
    h2::after {
        content: '';
        flex-grow: 1;
        height: 1px;
        background: linear-gradient(to right, var(--accent-color), transparent);
        opacity: 0.3;
    }

    h3 {
        font-size: 1.25rem;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: #e2e8f0;
    }

    p {
        color: var(--text-muted);
        font-size: 1rem;
        margin-bottom: 1rem;
        font-weight: 400;
    }
    
    strong { color: #fff; font-weight: 600; }

    /* --- LAYOUT CONTAINER --- */
    .wrapper {
        max-width: 1200px; /* Wider layout as requested */
        margin: 0 auto;
        padding: 0 2rem;
    }

    section {
        padding: var(--section-spacing) 0;
        scroll-margin-top: 120px; /* Ensure smooth scroll lands correctly */
    }

    /* --- FIXED NAVIGATION --- */
    .nav-container {
        position: fixed;
        top: 1.5rem;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
        width: 90%;
        max-width: 600px;
    }

    .glass-nav {
        display: flex;
        align-items: center;
        justify-content: space-between; /* Distributed evenly */
        background: rgba(15, 23, 42, 0.85); 
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        padding: 0.5rem 0.8rem;
        border-radius: 100px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.6);
    }

    .nav-link {
        color: #94a3b8;
        text-decoration: none;
        font-size: 0.85rem;
        font-weight: 500;
        padding: 0.6rem 1rem;
        border-radius: 100px;
        transition: all 0.3s ease;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .nav-link:hover { color: #fff; background: rgba(255, 255, 255, 0.05); }
    
    .nav-link.active {
        background: rgba(45, 212, 191, 0.15); 
        color: var(--accent-color);
        font-weight: 600;
        border: 1px solid rgba(45, 212, 191, 0.2);
        box-shadow: 0 0 15px rgba(45, 212, 191, 0.1);
    }

    /* --- GLASS CARD --- */
    .glass-card {
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        border-radius: 20px;
        padding: 2rem;
        transition: all 0.3s ease;
        position: relative;
        cursor: pointer;
        overflow: hidden;
        box-shadow: var(--glass-shadow);
        backdrop-filter: var(--glass-blur);
        -webkit-backdrop-filter: var(--glass-blur);
        height: 100%;
        display: flex;
        flex-direction: column;
    }
    
    /* Top highlight */
    .glass-card::before {
        content: '';
        position: absolute;
        top: 0; left: 0; right: 0;
        height: 1px;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    }

    .glass-card::after {
        content: '↗ Expand';
        position: absolute;
        bottom: 1.5rem;
        right: 1.5rem;
        font-size: 0.7rem;
        color: var(--accent-color);
        text-transform: uppercase;
        letter-spacing: 1px;
        opacity: 0;
        transform: translateY(10px);
        transition: all 0.3s ease;
        pointer-events: none;
    }

    .glass-card:hover::after { opacity: 1; transform: translateY(0); }

    .glass-card:hover {
        background: rgba(255, 255, 255, 0.05);
        border-color: rgba(45, 212, 191, 0.3);
        transform: translateY(-5px);
        box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.5);
    }

    /* --- HERO SECTION & PHOTO --- */
    .hero-section {
        min-height: 85vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding-top: 6rem;
    }
    
    .hero-grid {
        display: grid;
        grid-template-columns: 1fr 350px; 
        gap: 5rem; /* Increased gap for better spacing */
        align-items: center;
        width: 100%;
    }

    .hero-content { text-align: left; }

    /* PHOTO FRAME (SQUIRCLE GLOW) */
    .photo-frame {
        position: relative;
        width: 350px;
        height: 350px;
        border-radius: 40px; /* Squircle shape */
        padding: 10px; 
        background: linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.01));
        border: 1px solid rgba(255,255,255,0.1);
        box-shadow: 0 0 50px -10px var(--accent-glow);
        transform: rotate(3deg); /* Subtle artistic tilt */
        transition: transform 0.5s ease;
    }
    
    .photo-frame:hover { transform: rotate(0deg) scale(1.02); }

    .profile-photo {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 30px; 
        filter: contrast(1.1) saturate(1.05);
    }

    .hero-subtitle {
        font-size: 1.25rem;
        max-width: 650px;
        color: #cbd5e1;
        font-weight: 400;
        margin-bottom: 2rem;
    }

    .hero-tags {
        display: flex;
        gap: 0.8rem;
        flex-wrap: wrap;
        margin-top: 2rem;
    }

    .glass-tag {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        padding: 0.5rem 1rem;
        border-radius: 8px;
        font-size: 0.75rem;
        font-weight: 600;
        color: #cbd5e1;
        letter-spacing: 0.5px;
        text-transform: uppercase;
    }

    /* --- TIMELINE --- */
    .timeline-item { 
        margin-bottom: 2rem; 
        border-left: 2px solid rgba(255,255,255,0.1);
        padding-left: 2.5rem;
        position: relative;
    }
    
    .timeline-dot {
        position: absolute;
        left: -6px;
        top: 0;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: var(--accent-color);
        box-shadow: 0 0 15px var(--accent-color);
    }

    .role-meta {
        font-size: 0.85rem; color: var(--accent-color);
        text-transform: uppercase; letter-spacing: 1px;
        margin-bottom: 0.5rem; display: block; font-weight: 700;
    }

    .company-name {
        font-size: 1.1rem; color: #fff; font-weight: 600;
        margin-bottom: 1rem; display: block;
    }

    /* Badge Wrapper to fix modal layout */
    .badge-container {
        margin-top: auto; /* Push to bottom of card */
        padding-top: 1rem;
    }

    .mini-badge {
        display: inline-block; font-size: 0.75rem; font-weight: 500;
        padding: 0.25rem 0.6rem; border-radius: 6px;
        background: rgba(45, 212, 191, 0.1); color: var(--accent-color);
        margin-right: 0.5rem; margin-bottom: 0.5rem;
        border: 1px solid rgba(45, 212, 191, 0.2);
    }

    /* --- GRIDS --- */
    .grid-2 { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 2rem; }
    .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
    .icon-box { font-size: 1.8rem; color: var(--accent-color); margin-bottom: 1rem; opacity: 0.9; }
    .pub-card { border-left: 3px solid var(--accent-color); padding-left: 1.5rem; }
    .pub-journal { font-style: italic; color: #94a3b8; margin-bottom: 0.5rem; display: block; }

    /* --- MODAL --- */
    .modal-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(10px);
        z-index: 2000; display: flex; justify-content: center; align-items: center;
        opacity: 0; pointer-events: none; transition: 0.3s;
    }
    .modal-overlay.active { opacity: 1; pointer-events: auto; }
    
    .modal-content {
        background: #0f172a; /* Solid bg for readability */
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 24px; padding: 3rem; width: 90%; max-width: 750px; max-height: 90vh;
        overflow-y: auto; position: relative; transform: scale(0.95); transition: 0.3s;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.9);
    }
    .modal-overlay.active .modal-content { transform: scale(1); }
    
    .modal-close {
        position: absolute; top: 1.5rem; right: 1.5rem;
        background: rgba(255, 255, 255, 0.1); border: none; color: #fff;
        width: 40px; height: 40px; border-radius: 50%; cursor: pointer; transition: 0.2s;
        display: flex; align-items: center; justify-content: center; font-size: 1.2rem;
    }
    .modal-close:hover { background: var(--accent-color); color: #000; }

    /* --- FOOTER --- */
    footer {
        text-align: center; padding: 8rem 0; border-top: 1px solid rgba(255,255,255,0.05);
        margin-top: 8rem;
    }
    .social-links a { font-size: 2rem; color: #64748b; margin: 0 1.5rem; transition: 0.3s; }
    .social-links a:hover { color: var(--accent-color); transform: translateY(-5px); }

    /* --- RESPONSIVE --- */
    @media (max-width: 900px) {
        .hero-grid { grid-template-columns: 1fr; text-align: center; justify-items: center; gap: 3rem; }
        .hero-content { text-align: center; display: flex; flex-direction: column; align-items: center; }
        .hero-section { padding-top: 2rem; }
        .photo-frame { width: 250px; height: 250px; order: -1; }
        
        .nav-container { top: auto; bottom: 1.5rem; width: 95%; }
        .nav-link span { display: none; }
        .nav-link i { display: block; font-size: 1.4rem; }
        .glass-nav { justify-content: space-evenly; padding: 0.8rem; background: rgba(15, 23, 42, 0.9); }
        
        .grid-2, .grid-3 { grid-template-columns: 1fr; }
    }
    @media (min-width: 901px) { .nav-link i { display: none; } }
</style>
</head>
<body>

    <div class="ambient-light"></div>

    <!-- Fixed Navigation -->
    <div class="nav-container">
        <nav class="glass-nav">
            <a href="#hero" class="nav-link active"><span>Profile</span><i class="fas fa-user"></i></a>
            <a href="#experience" class="nav-link"><span>Experience</span><i class="fas fa-briefcase"></i></a>
            <a href="#projects" class="nav-link"><span>Projects</span><i class="fas fa-code"></i></a>
            <a href="#publications" class="nav-link"><span>Publications</span><i class="fas fa-book"></i></a>
            <a href="#contact" class="nav-link"><span>Contact</span><i class="fas fa-envelope"></i></a>
        </nav>
    </div>

    <!-- Modal -->
    <div class="modal-overlay" id="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div id="modal-body"></div>
        </div>
    </div>

    <div class="wrapper">
        
        <!-- HERO SECTION -->
        <section id="hero" class="hero-section">
            <div class="hero-grid">
                <div class="hero-content reveal">
                    <h1>Antonio Esquivel Gaytan</h1>
                    <p class="hero-subtitle">
                        Physician-Scientist (MD, MSc, PhDc). <br>
                        Bridging <strong>Clinical Cardiology</strong> & <strong>Artificial Intelligence</strong>.
                    </p>
                    
                    <div class="glass-card" style="padding: 1.5rem; margin-top: 1.5rem; border-left: 3px solid var(--accent-color);">
                        <p style="margin-bottom: 0;">
                            Building auditable, regulation-aware (MDR/GCP) AI tools for clinical workflows. Expert in heart failure, cardiorenal research, and translational medicine.
                        </p>
                    </div>

                    <div class="hero-tags">
                        <span class="glass-tag">Clinical AI</span>
                        <span class="glass-tag">Heart Failure</span>
                        <span class="glass-tag">Privacy-First</span>
                        <span class="glass-tag">Python/FastAPI</span>
                    </div>
                </div>

                <!-- NEW PHOTO FRAME (Squircle with Glow) -->
                <div class="photo-frame reveal">
                    <img 
                        src="https://raw.githubusercontent.com/anthony-89/jaeg-cv/main/IMG_3134.jpg" 
                        alt="Antonio Esquivel Gaytan" 
                        class="profile-photo"
                        onerror="this.onerror=null; this.src='https://placehold.co/450x450/1e293b/64748b?text=JAEG';" 
                    />
                </div>
            </div>
        </section>

        <!-- EXPERIENCE -->
        <section id="experience">
            <h2 class="reveal">Professional Log</h2>
            
            <div class="timeline-item reveal">
                <div class="glass-card">
                    <span class="role-meta">Jun 2025 – Sep 2025</span>
                    <h3>Clinical Research Investigator & AI Lead</h3>
                    <span class="company-name">Pangaea Oncology — Barcelona</span>
                    <p>
                        Supervised AI-assisted visit management systems. Orchestrated human-in-the-loop governance for clinical reporting, ensuring MDR/GCP compliance and reducing hallucinations through prompt engineering and SOPs.
                    </p>
                    <div class="badge-container">
                        <span class="mini-badge">AI in Clinical Trials</span>
                        <span class="mini-badge">GCP Workflow</span>
                    </div>
                </div>
            </div>

            <div class="timeline-item reveal">
                <div class="glass-card">
                    <span class="role-meta">2024 – 2025</span>
                    <h3>Co-founder (MVP)</h3>
                    <span class="company-name">QGuard-Med — Groningen</span>
                    <p>
                        Finalist at "Break The Gap 2025". Developed a transparent, explainable AI scoring system for cardiovascular patient prioritization using FastAPI and Docker.
                    </p>
                    <div class="badge-container">
                        <span class="mini-badge">Prioritisation</span>
                        <span class="mini-badge">FastAPI</span>
                    </div>
                </div>
            </div>

            <div class="timeline-item reveal">
                <div class="glass-card">
                    <span class="role-meta">Nov 2018 – Present</span>
                    <h3>PhD Researcher</h3>
                    <span class="company-name">UMCG — Netherlands</span>
                    <p>
                        Experimental Cardiology. Investigating 5-oxoproline/OPLAH. Focused on high-throughput screening assays, cardiorenal interactions, and robust data analysis (Z′, S/B).
                    </p>
                    <div class="badge-container">
                        <span class="mini-badge">Biomarkers</span>
                        <span class="mini-badge">Translational</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- EDUCATION -->
        <section>
            <h2 class="reveal">Credentials</h2>
            <div class="grid-2">
                <div class="glass-card reveal">
                    <i class="fas fa-graduation-cap icon-box"></i>
                    <h3 style="margin-bottom: 1rem;">Education</h3>
                    <div style="margin-bottom: 1rem;">
                        <strong>PhD Biomedical Sciences</strong><br>
                        <span style="color: var(--text-muted); font-size: 0.9rem;">UMCG / Univ. Groningen (2018 - Present)</span>
                    </div>
                    <div style="margin-bottom: 1rem;">
                        <strong>MSc Nanotechnology</strong><br>
                        <span style="color: var(--text-muted); font-size: 0.9rem;">UCL, UK - Distinction (2016 - 2017)</span>
                    </div>
                    <div>
                        <strong>MD (Physician)</strong><br>
                        <span style="color: var(--text-muted); font-size: 0.9rem;">UNAM, Mexico (2009 - 2016)</span>
                    </div>
                </div>

                <div class="glass-card reveal">
                    <i class="fas fa-layer-group icon-box"></i>
                    <h3 style="margin-bottom: 1rem;">Competencies</h3>
                    <div class="badge-container" style="margin-bottom: 1.5rem;">
                        <span class="mini-badge">LLM Workflows</span>
                        <span class="mini-badge">RAG</span>
                        <span class="mini-badge">Python (APIs)</span>
                        <span class="mini-badge">Docker/Git</span>
                        <span class="mini-badge">MDR / GCP</span>
                        <span class="mini-badge">Omics</span>
                    </div>
                    <h3 style="margin-bottom: 0.5rem;">Languages</h3>
                    <div style="color: var(--text-muted); font-size: 0.9rem;">
                        Spanish (Native) · English (Full Prof.) · Dutch (B1-B2)
                    </div>
                </div>
            </div>
        </section>

        <!-- PROJECTS -->
        <section id="projects">
            <h2 class="reveal">Selected Projects</h2>
            <div class="grid-3">
                <div class="glass-card reveal">
                    <i class="fas fa-shield-halved icon-box"></i>
                    <h3>Offline RAG Guidelines</h3>
                    <p>Local guideline assistant (MVP). Zero PHI leakage, citation-backed.</p>
                    <div class="badge-container"><span class="mini-badge">Privacy-First</span></div>
                </div>
                <div class="glass-card reveal">
                    <i class="fas fa-flask icon-box"></i>
                    <h3>SOP Lab Assistant</h3>
                    <p>Digitized SOPs with "bench run" mode and compliance logging.</p>
                    <div class="badge-container"><span class="mini-badge">Automation</span></div>
                </div>
                <div class="glass-card reveal">
                    <i class="fas fa-heart-pulse icon-box"></i>
                    <h3>QGuard-Med</h3>
                    <p>Transparent prioritization system integrating clinical criteria & biomarkers.</p>
                    <div class="badge-container"><span class="mini-badge">Clinical AI</span></div>
                </div>
            </div>
        </section>

        <!-- PUBLICATIONS -->
        <section id="publications">
            <h2 class="reveal">Publications</h2>
            <div class="grid-2">
                <div class="glass-card reveal pub-card">
                    <h3 style="font-size: 1.1rem;">404-error “Disease not found”...</h3>
                    <span class="pub-journal">European Journal of Heart Failure (2024)</span>
                    <p>Co-authored work integrating omics to challenge conventional HF classification.</p>
                </div>
                <div class="glass-card reveal pub-card">
                    <h3 style="font-size: 1.1rem;">Glutathione deficiency and HF...</h3>
                    <span class="pub-journal">ESC Heart Failure (2025)</span>
                    <p>Systematic review on glutathione, oxidative stress, and heart failure.</p>
                </div>
                <div class="glass-card reveal pub-card">
                    <h3 style="font-size: 1.1rem;">A translation re-initiation variant in KLHL24...</h3>
                    <span class="pub-journal">British Journal of Dermatology (2022)</span>
                    <p>Co-authorship on genotype–phenotype work linking KLHL24 variants.</p>
                </div>
                <div class="glass-card reveal pub-card">
                    <h3 style="font-size: 1.1rem;">Elevated 5-Oxoproline Levels...</h3>
                    <span class="pub-journal">Redox Biology (Under Review)</span>
                    <p>Integrates clinical and experimental data to link 5-oxoproline and adverse outcomes.</p>
                </div>
            </div>
        </section>

        <!-- FOOTER -->
        <footer id="contact">
            <h2 style="margin-bottom: 1rem;">Let's Connect</h2>
            <p style="margin-bottom: 2rem;">Open for roles in AI in Healthcare & Clinical Research.</p>
            <div class="social-links">
                <a href="mailto:j.esquivel.gaytan@gmail.com"><i class="fas fa-envelope"></i></a>
                <a href="#"><i class="fab fa-linkedin"></i></a>
                <a href="#"><i class="fab fa-researchgate"></i></a>
            </div>
            <div style="margin-top: 3rem; font-size: 0.8rem; opacity: 0.4;">
                &copy; 2025 Antonio Esquivel Gaytan. Groningen, NL.
            </div>
        </footer>

    </div>

    <script>
        // --- 1. ROBUST SCROLL SPY (FIXED NAV) ---
        const sections = document.querySelectorAll('section');
        const navLinks = document.querySelectorAll('.nav-link');

        // Using InteractionObserver is cleaner for active state but scroll listener is more robust for exact px
        window.addEventListener('scroll', () => {
            let current = '';
            const offset = 150; // Offset for the fixed header

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (pageYOffset >= (sectionTop - offset)) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').includes(current)) {
                    link.classList.add('active');
                }
            });
        });

        // --- 2. ROBUST CLICK SCROLL ---
        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    // Use window.scrollTo for maximum compatibility
                    const headerOffset = 100;
                    const elementPosition = targetElement.getBoundingClientRect().top;
                    const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
        
                    window.scrollTo({
                        top: offsetPosition,
                        behavior: "smooth"
                    });
                }
            });
        });

        // --- 3. MODAL LOGIC ---
        const modalOverlay = document.getElementById('modal-overlay');
        const modalBody = document.getElementById('modal-body');

        function openModal(content) {
            modalBody.innerHTML = content;
            modalOverlay.classList.add('active');
            document.body.style.overflow = 'hidden'; 
        }

        function closeModal() {
            modalOverlay.classList.remove('active');
            document.body.style.overflow = ''; 
        }

        // Event delegation for cards
        document.querySelectorAll('.glass-card').forEach(card => {
            card.addEventListener('click', function(e) {
                // Prevent firing if user is just selecting text
                if (window.getSelection().toString().length > 0) return;
                openModal(this.innerHTML);
            });
        });

        modalOverlay.addEventListener('click', function(e) {
            if (e.target === modalOverlay) closeModal();
        });

        // --- 4. REVEAL ANIMATION ---
        const revealElements = document.querySelectorAll('.reveal');
        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if(entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, { threshold: 0.1 });

        revealElements.forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            el.style.transition = 'all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1)';
            revealObserver.observe(el);
        });
    </script>
</body>
</html>
